(()=>{"use strict";var e,t={611:(e,t,n)=>{n(130);var a=n(879);n(493),document.querySelector(".box-left ul").addEventListener("click",(e=>{e.preventDefault(),"0"===e.target.id&&(location.href="../publish/index.html")}));const r={status:"",channel_id:"",page:1,per_page:2};let o=0;async function i(){const e=await(0,a.A)({url:"/v1_0/mp/articles",params:r});console.log(e);const t=e.data.data.results.map((e=>`   <tr>\n        <td>${0===e.cover.type?'<img src="../img/4c048b5388f5467ca2d623e552788059_tplv-dy-aweme-images_q75.webp" alt=""\n        srcset="">':`<img src="${e.cover.images[0]}" alt=""\n        srcset="">`}</td>\n        <td>${e.title}</td>\n        <td>${1==e.status?"待审核":"审核通过"}</td>\n        <td>${e.pubdate}</td>\n        <td>${e.read_count}</td>\n        <td>${e.comment_count}</td>\n        <td>${e.like_count}</td>\n        <td data-id="${e.id}">\n        <a href="javascript:;" class="del">删除</a>\n        <a href="javascript:;" class="edit">编辑</a>\n        </td>\n\n    </tr>`)).join("");document.querySelector(".box-right .main-page tbody").innerHTML=t,o=e.data.data.total_count,document.querySelector(".box-right .main-page .footer .pageall").innerText=`共${o}页`}i(),async function(){const e=(await(0,a.A)({url:"/v1_0/channels"})).data.data.channels.map((e=>`<option value="${e.id}">${e.name}</option>`)).join("");document.querySelector(".box-right .content-line .page-where select").innerHTML='<option value="">请选择频道</option>'+e}(),document.querySelectorAll(".box-right .content-line .check-box input").forEach((e=>{e.addEventListener("change",(e=>{console.log(e.target.id),r.status=e.target.id}))})),document.querySelector(".box-right .content-line .page-where select").addEventListener("change",(e=>{const t=e.target.value;r.channel_id=t})),document.querySelector(".box-right .content-line .btn").addEventListener("click",(()=>{i()})),document.querySelector(".box-right .main-page .footer .right").addEventListener("click",(e=>{r.page<Math.ceil(o/r.per_page)&&(r.page++,document.querySelector(".box-right .main-page .footer .onlinepage").innerText=`第${r.page}页`,i())})),document.querySelector(".box-right .main-page .footer .left").addEventListener("click",(e=>{r.page>1&&(r.page--,document.querySelector(".box-right .main-page .footer .onlinepage").innerText=`第${r.page}页`,i())})),document.querySelector(".box-right tbody").addEventListener("click",(async e=>{if(e.target.classList.contains("del")){const t=e.target.parentNode.dataset.id;confirm("确定删除？")&&(await(0,a.A)({url:`/v1_0/mp/articles/${t}`,method:"DELETE"}),1===document.querySelector(".box-right tbody").children.length&&1!==r.page&&(r.page--,document.querySelector(".box-right .main-page .footer .onlinepage").innerText=`第${r.page}页`),i())}})),document.querySelector(".box-right tbody").addEventListener("click",(e=>{if(e.target.classList.contains("edit")){const t=e.target.parentNode.dataset.id;location.href=`../publish/index.html?id=${t}`}}))},719:e=>{e.exports=axios}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,r,o)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,r,o]=e[s],c=!0,d=0;d<n.length;d++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](n[d])))?n.splice(d--,1):(c=!1,o<i&&(i=o));if(c){e.splice(s--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,r,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={854:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,c,d]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(d)var s=d(a)}for(t&&t(n);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(s)},n=self.webpackChunk_08_webpack_node_study=self.webpackChunk_08_webpack_node_study||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[783,233,938],(()=>a(611)));r=a.O(r)})();